import{j as c}from"./jsx-runtime-Du8NFWEI.js";import{I as j}from"./Input-CvF1GPjA.js";import{F as M}from"./FieldTitle-NQIiWOel.js";import{r as u,R as v}from"./index-Dl6G-zuu.js";import{V as w}from"./InputValidation-DnhQrn6H.js";import{I as C}from"./InputField-JLZRkevq.js";function D({expirationDate:n,handleInput:p,handleShowComponent:l}){const[E,g]=u.useState([]),i=u.useRef(Array.from({length:2},()=>v.createRef()));u.useEffect(()=>{const t=Object.values(n).map(e=>e.errorMessage);g(t)},[n]),u.useEffect(()=>{var t;(t=i.current[0].current)==null||t.focus()},[]),u.useEffect(()=>{Object.values(n).reduce((r,s)=>!s.isError&&s.value!==""&&s.value.length===2?r+1:r,0)===2&&l(e=>({...e,userNameInput:!0}))},[n,l]);const a=["month","year"],I=["MM","YY"],S=(t,e)=>{const r=a[t];p(s=>({...s,[r]:{...s[r],value:e}}))},m=(t,e,r)=>{const s=a[t];p(o=>({...o,[s]:{...o[s],errorMessage:e,isError:r}}))},y=(t,e,r)=>{var o,f,h;try{(f=(o=w)[e])==null||f.call(o,t.target.value),m(r,"",!1),S(r,t.target.value)}catch(d){d instanceof Error&&m(r,d.message,!0)}const s=r+1;t.target.value.length===2&&s<i.current.length&&((h=i.current[s].current)==null||h.focus())},A=t=>{const e=a[t];return n[e].isError};return c.jsxs(c.Fragment,{children:[c.jsx(M,{title:"카드 유효기간을 입력해 주세요",subtitle:"월/년도(MMYY)를 순서대로 입력해 주세요."}),c.jsx(C,{label:"유효기간",count:2,errorMessages:E,children:i.current.map((t,e)=>c.jsx(j,{type:"string",maxLength:2,value:n[a[e]].value,placeholder:I[e],isError:A(e),onChange:r=>y(r,a[e],e),inputRef:t},e))})]})}D.__docgenInfo={description:"",methods:[],displayName:"ExpirationDateInput",props:{expirationDate:{required:!0,tsType:{name:"ExpirationDate"},description:""},handleInput:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"ExpirationDate"}],raw:"SetStateAction<ExpirationDate>"}],raw:"Dispatch<SetStateAction<ExpirationDate>>"},description:""},handleShowComponent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"ShowComponents"}],raw:"SetStateAction<ShowComponents>"}],raw:"Dispatch<SetStateAction<ShowComponents>>"},description:""}}};export{D as E};
