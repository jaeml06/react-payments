import{j as o}from"./jsx-runtime-Du8NFWEI.js";import{I as w}from"./Input-CvF1GPjA.js";import{F as E}from"./FieldTitle-NQIiWOel.js";import{r as a,R as S}from"./index-Dl6G-zuu.js";import{V as I}from"./InputValidation-DnhQrn6H.js";import{I as y}from"./InputField-JLZRkevq.js";function x({password:n,handleInput:c,handleShowComponent:i}){const[l,d]=a.useState({}),u=a.useRef(Array.from({length:1},()=>S.createRef()));a.useEffect(()=>{const e=Object.values(n).map(t=>t.errorMessage);d(e)},[n]),a.useEffect(()=>{var e;(e=u.current[0].current)==null||e.focus()},[]),a.useEffect(()=>{Object.values(n).reduce((r,s)=>!s.isError&&s.value!==""&&s.value.length===2?r+1:r,0)===1&&i(t=>({...t,passWordInput:!0}))},[n,i]);const f=e=>{const t="password";c(r=>({...r,[t]:{...r[t],value:e}}))},p=(e,t)=>{const r="password";c(s=>({...s,[r]:{...s[r],errorMessage:e,isError:t}}))},h=(e,t)=>{var r,s;try{(s=(r=I)[t])==null||s.call(r,e.target.value),p("",!1),f(e.target.value)}catch(m){m instanceof Error&&p(m.message,!0)}},g=()=>n["password"].isError;return o.jsxs(o.Fragment,{children:[o.jsx(E,{title:"비밀번호를 입력해 주세요 ",subtitle:"앞의 2자리를 입력해주세요"}),o.jsx(y,{label:"비밀번호 앞 2자리",count:1,errorMessages:l,children:u.current.map((e,t)=>o.jsx(w,{type:"string",maxLength:2,value:n.password.value,placeholder:"**",isError:g(),onChange:r=>h(r,"password"),inputRef:e},t))})]})}x.__docgenInfo={description:"",methods:[],displayName:"PasswordInput",props:{password:{required:!0,tsType:{name:"Password"},description:""},handleInput:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Password"}],raw:"SetStateAction<Password>"}],raw:"Dispatch<SetStateAction<Password>>"},description:""},handleShowComponent:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"ShowComponents"}],raw:"SetStateAction<ShowComponents>"}],raw:"Dispatch<SetStateAction<ShowComponents>>"},description:""}}};export{x as P};
